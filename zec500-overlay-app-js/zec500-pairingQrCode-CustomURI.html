<!DOCTYPE html>
<html>
<head>
  <title>ZEC500 Pairing QRcode Sample App</title>
  <style>
    #interactionArea {
      width: 300px;
      height: 200px;
      border: 1px solid black;
      touch-action: none; /* Prevent default touch actions */
    }
    #pressureDisplay {
      margin-top: 10px;
      font-size: 18px;
    }
  </style>
</head>
<body>


<div id="interactionArea">This sample app assumes an app defined the custom URI zec://scan-to-pair</div>

<iframe id="hiddenFrame" style="display:none;"></iframe>
<button id="openURIButton">Show QRcode via Custom URI</button>
<button id="setcaptionURIButton">Set a Caption</button>

<script>
  const interactionArea = document.getElementById('interactionArea');
  const openURIButton = document.getElementById('openURIButton');
  const hiddenFrame = document.getElementById('hiddenFrame');
  const customURI = "zec500://scan-to-pair?SHOW_QR";
  const captionURI = "zec500://scan-to-pair?SET_CAPTION_TEXT=HelloChrome!";

  function openCustomURI(uri) {
    hiddenFrame.src = uri;
  }

  openURIButton.addEventListener('click', () => {

    console.log("openURIButton pressed: opening ",customURI)

    openCustomURI(customURI);
  });

  setcaptionURIButton.addEventListener('click', () => {

    console.log("openURIButton pressed: opening ",customURI)

    openCustomURI(captionURI);
  });


  //// No way to access the URI on an automated event like onLoad or a Timer
  //// the following code works, but the browser prompts the user with a popup that needs to be confirmed
   setTimeout(function() {
      console.log("openURI Timer elapsed: opening ",customURI)
      openCustomURI(customURI);
   }, 3000);


</script>

</body>
</html>